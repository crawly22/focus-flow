# 🤖 AI 작업 분해 기능 사용 가이드

## 📋 개요

FocusFlow에 **Claude AI 기반 자동 작업 분해** 기능이 추가되었습니다!

작업 제목만 입력하면 AI가 **5-15분 단위의 실행 가능한 ADHD 친화적 세부 단계**로 자동 분해합니다.

---

## 🎯 준비: Claude API 키 발급

### 1. Anthropic 계정 생성

1. **https://console.anthropic.com/** 방문
2. "Sign Up" 또는 "Get Started" 클릭
3. Google 계정으로 간편 가입 가능

### 2. API 키 생성

1. Console에 로그인 후 **"API Keys"** 메뉴 클릭
2. **"Create Key"** 클릭
3. 키 이름 입력 (예: `FocusFlow`)
4. **생성된 키를 복사** (한 번만 보여집니다!)
   - 형식: `sk-ant-api03-...`

### 3. 무료 크레딧

- 신규 가입 시 **$5 무료 크레딧** 제공
- 작업 분해 1회 = 약 $0.001~0.003
- 즉, 무료로 **1,500~5,000회** 사용 가능!

### 4. 환경 변수 설정

`.env` 파일 열기:
```env
# 기존 Firebase 설정 아래에 추가
VITE_CLAUDE_API_KEY=sk-ant-api03-your-actual-key-here
```

**중요**: 
- `sk-ant-api03-`로 시작하는 실제 키를 입력하세요
- 따옴표 사용 금지
- `.env.template`이 아닌 `.env` 파일에 입력

---

## 🚀 사용 방법

### 1. 작업 추가 모달 열기
- 우측 하단 **+ 버튼** 클릭

### 2. 작업 제목 입력
```
예시:
✅ "방 청소하기"
✅ "보고서 작성"
✅ "운동 루틴 만들기"
✅ "클라이언트에게 이메일 보내기"
```

### 3. AI 분해 버튼 클릭
- **"🤖 AI로 작업 분해하기"** 버튼 클릭
- 버튼이 "🤔 AI가 분해하는 중..."으로 변경
- 약 2-5초 소요

### 4. 결과 확인
자동으로 생성된 단계들이 표시됩니다:

**입력**: "방 청소하기"

**AI 분해 결과**:
```
✅ 바닥의 옷 모으기 (5분)
✅ 책상 위 정리하기 (10분)
✅ 쓰레기 버리기 (5분)
✅ 진공청소기 돌리기 (10분)
```

### 5. 단계 수정 (선택)
- 각 단계의 **텍스트** 수정 가능
- **시간** 조정 가능 (5-60분)
- 🗑️ 버튼으로 단계 삭제
- "**+ 단계 수동 추가**"로 추가 단계 입력

### 6. 저장
- **저장** 버튼 클릭
- 작업이 세부 단계와 함께 저장됨

---

## 💡 AI 분해 예시

### 예시 1: 업무
**입력**: "프로젝트 제안서 작성"

**AI 결과**:
1. 프로젝트 목표 정의하기 (10분)
2. 개요 및 배경 작성 (15분)
3. 주요 기능 리스트 작성 (10분)
4. 예산 및 일정 계획 (15분)
5. 검토 및 수정 (10분)

### 예시 2: 집안일
**입력**: "저녁 식사 준비"

**AI 결과**:
1. 냉장고 재료 확인 (5분)
2. 야채 씻고 손질하기 (10분)
3. 고기/생선 준비하기 (10분)
4. 요리하기 (15분)
5. 상 차리기 (5분)

### 예시 3: 개인
**입력**: "운동 시작하기"

**AI 결과**:
1. 운동복으로 환복하기 (5분)
2. 가벼운 스트레칭 (10분)
3. 유산소 운동 (15분)
4. 근력 운동 (15분)
5. 정리 운동 및 샤워 (10분)

---

## 🎨 기능 특징

### ✅ ADHD 친화적 분해
1. **5-15분 단위**: 집중력 유지 가능한 짧은 시간
2. **구체적**: "청소하기" → "바닥의 옷 모으기"
3. **순차적**: 시작하기 쉬운 단계부터
4. **3-7개 단계**: 압도감 최소화

### ✅ 똑똑한 AI
- **한국어 최적화**: Claude는 한국어 이해 우수
- **맥락 이해**: 작업 성격에 맞는 분해
- **시간 추정**: 현실적인 소요 시간 제안

### ✅ 유연성
- AI 결과를 그대로 사용해도 OK
- 수정/삭제/추가 자유롭게 가능
- AI 없이 수동 추가도 가능

---

## ❌ 문제 해결

### "AI 분해 실패. API 키를 확인하세요"

**원인**:
1. `.env` 파일에 API 키가 없거나 잘못됨
2. API 키가 `your_claude_api_key_here`로 되어 있음

**해결**:
1. `.env` 파일 열기
2. `VITE_CLAUDE_API_KEY=` 확인
3. 실제 키 (`sk-ant-api03-...`)로 변경
4. 브라우저 **완전히 닫고** 다시 실행:
   ```bash
   # 서버 재시작 (Ctrl+C로 종료 후)
   npm run dev
   ```

### "작업 제목을 먼저 입력하세요"

**원인**: 작업 제목이 비어있음

**해결**: 작업 제목란에 텍스트 입력 후 AI 버튼 클릭

### API 크레딧 소진

**확인**: https://console.anthropic.com/settings/usage

**해결**:
1. 신용카드 등록하여 추가 크레딧 구매
2. 또는 무료 대안 사용:
   - 수동 단계 추가
   - OpenAI API (GPT-3.5)
   - Google Gemini API (무료 티어)

---

## 💰 비용 참고

### Claude API 가격
- **Claude 3.5Sonnet**:
  - Input: $3 / 1M tokens
  - Output: $15 / 1M tokens

### 작업 분해 1회 비용
- 평균: **$0.001~0.003** (약 1-3원)
- 100회: 약 $0.10~0.30 (100-300원)

### 무료 크레딧
- 신규 가입: **$5 제공**
- 약 **1,500~5,000회** 사용 가능

---

## 🔐 보안

### API 키 보호
- ✅ `.env` 파일은 Git에 업로드되지 않음 (`.gitignore`)
- ✅ `VITE_` 접두사로 클라이언트에서만 작동
- ⚠️ **API 키를 절대 공개 저장소에 올리지 마세요**

### 프로덕션 배포 시
- Firebase Functions 또는 백엔드 서버 사용 권장
- 클라이언트에서 직접 API 호출은 개발/개인용

---

## 🎓 고급 활용

### 예상 시간 입력
작업 추가 시 "예상 소요 시간"을 입력하면 AI가 그 시간 내에 맞게 분해합니다:

```
작업: "블로그 글 쓰기"
예상 시간: 60분

AI 결과:
1. 주제 선정 및 아웃라인 (15분)
2. 초안 작성 (30분)
3. 편집 및 교정 (10분)
4. 이미지 추가 (5분)
```

### 재분해
- AI 결과가 마음에 안 들면 다시 클릭
- 매번 다른 결과 생성

---

## ✨ 팁

1. **구체적으로 입력**: "공부하기" → "수학 문제 10개 풀기"
2. **작업 크기 조절**: 너무 크면 "보고서 작성 - 1장" 처럼 나누기
3. **예상 시간 활용**: 시간 제한이 있으면 입력하기
4. **결과 수정 OK**: AI는 출발점, 자유롭게 수정하세요

---

## 📊 사용 통계

브라우저 콘솔 (F12)에서 API 호출 로그 확인 가능:
```javascript
✅ AI Breakdown successful: 5 steps generated
```

---

**🎉 축하합니다! AI 기반 ADHD 친화적 작업 분해를 경험해보세요!**

작은 단계로 나누면 시작이 쉬워집니다 💪✨
